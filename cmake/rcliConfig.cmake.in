include("${CMAKE_CURRENT_LIST_DIR}/rcliTargets.cmake")

if(NOT TARGET rcli_shared OR NOT TARGET rcli_static)
  message(FATAL_ERROR "Missing required targets rcli_shared or rcli_static")
endif()

if(@BUILD_SHARED_LIBS@)
  add_library(rcli_shared SHARED IMPORTED)
  set_target_properties(
    rcli_shared
    PROPERTIES IMPORTED_LOCATION "${CMAKE_BINARY_DIR}/lib/librcli.so"
               INTERFACE_LINK_LIBRARIES "rcli_shared")
else()
  add_library(rcli_static STATIC IMPORTED)
  set_target_properties(
    rcli_static PROPERTIES IMPORTED_LOCATION "${CMAKE_BINARY_DIR}/lib/librcli.a"
                           INTERFACE_LINK_LIBRARIES "rcli_static")
endif()
